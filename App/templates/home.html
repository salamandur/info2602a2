{% extends "layout.html" %}

{% block title %}Home{% endblock %}

{% block page %}{% endblock %}

{% block link%}
<ul id="nav-mobile" class="right">
    <li><a href="/logout">Logout</a></li>
</ul>
{% endblock %}


{% block content %}

<div class="row">
    <div class="col m2 list-container collection" style="max-height: 84vh;">
      {% if current_user.is_authenticated %} -->
        {% for pokemon in pokemons %}
          {% if pokemon.id == selectedPokemon.id %}
            <div class="list-item">  
                <a href='/app/{{pokemon.id}}' id='poke-{{pokemon.id}}' class="collection-item active">{{pokemon.name}}</a>
            </div>
          {% else %}
            <div class="list-item">  
                <a href='/app/{{pokemon.id}}' id='poke-{{pokemon.id}}' class="collection-item">{{pokemon.name}}</a>
            </div>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
    
    <div class="col m3">

        <p class="text-center">Selected Pokemon</p>

        <li class="collection-item">
                <div class="content fill-space">
                  <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{selectedPokemon.id}}.png">
                </div>
                <div class="card-action">
                  
                  <a href="/rename-pokemon/{{selectedPokemon.id}}">Rename</a>
                  <a href="/release-pokemon/{{selectedPokemon.id}}">Release</a>
                </div>
            </li>
    </div>

    <div class="col m7">
        <p class="text-center">Your Pokemon</p>
        <table>
          <row>
            <span class="card-title">{{selectedPokemon.name}}
              <label class="right">
              </label>
            </span>
          </row>
          <div class="card-action">
            <form id="renameForm" method="POST" action="/rename-pokemon/{{selectedPokemon.id}}" style="padding:1em">
              <div class="row">
                <div class="content fill-space">
                  <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{selectedPokemon.id}}.png">
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input placeholder="name" id="newname" name="newname" type="text" class="validate">
                  <label for="newname">New Name</label>
                </div>
              </div>
              <input class="btn" type="submit" value="Rename">
                    
            </form>
            <a class="btn" href="/release-pokemon/{{selectedPokemon.id}}">Release</a>
          </div>
        </table>
    </div>

</div>


<script>
    var pokeElem = document.getElementById('poke-{{selectedPokemon.id}}');// edit to scroll to selected pokemon
    pokeElem.scrollIntoView();
</script>

{% endblock %}